if(NOT DEFINED CMAKE_INSTALL_PREFIX)
    set(CMAKE_INSTALL_PREFIX "${CMAKE_BINARY_DIR}/install")
endif()
if(NOT DEFINED CMAKE_INSTALL_MANIFEST)
    set(CMAKE_INSTALL_MANIFEST "${CMAKE_BINARY_DIR}/install_manifest.txt")
endif()

if(EXISTS "${CMAKE_INSTALL_MANIFEST}")
    file(READ "${CMAKE_INSTALL_MANIFEST}" files)
    string(REPLACE "\n" ";" files "${files}")
    foreach(file ${files})
        message(STATUS "Uninstalling ${file}")
        execute_process(COMMAND ${CMAKE_COMMAND} -E remove "${file}")
    endforeach()
else()
    message(FATAL_ERROR "Cannot find install manifest: ${CMAKE_INSTALL_MANIFEST}")
endif()
